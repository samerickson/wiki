---
description: >-
  This page is a step-by-step guide to setting up x-forwarding on WSL-2 to
  windows.
---

# ⏩ X-Forwarding

## Getting X-Forwarding Up and Running

When you switch to WSL-2 your Ubuntu environment gets its own IP address in WLS-2, which makes x-forwarding a little bit more complicated. In short, you need to get the IP address to use for your display by reading the contents of `/etc/resolv.conf`:

```bash
# This file was automatically generated by WSL.
#  To stop automatic generation of this file,
#  add the following entry to /etc/wsl.conf:
# [network]
# generateResolvConf = false
nameserver 172.28.192.1
```

 Next, we need to install [VcXsrv](https://github.com/ArcticaProject/vcxsrv/releases/tag/1.17.0.0-3) which you can get from the [latest release Github page](https://github.com/ArcticaProject/vcxsrv/releases/tag/1.17.0.0-3). Then we can set up our DISPLAY variable:

```bash
# Note that you are entering the ip address found in /etc/resolv.conf
export DISPLAY=172.28.192.1:0
```

Next, you need to allow VcXsrv through the firewall.

1. Press the Windows key and search for "firewall"
2. Click on "Allow an app or feature through Windows Defender Firewall"
3. Click the "Change settings" button
4. Press "v" to jump down to _VcXsrv_ and click allow for private
   1. I also allowed "Xming" through the firewall so that I could use that too
5. Press "ok"

### Some improvements that can be made

The IP address for WSL-2 can change sometimes, and you have to type`export DISPLAY:x.x.x.x:0`each time you open a terminal. A better way to do this to add the following to your`~/.bashrc`file:

```bash
export·DISPLAY=$(cat·/etc/resolv.conf·|·grep·nameserver·|·awk·'{print·$2}'):0
```

This will collect the IP address from`/etc/resolve`for you and export the correct display settings each time you start a new interactive terminal session.

